<!DOCTYPE html>

<html lang="es">
{% load static %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'css/reserva.css' %}">
    <title>Listado de Reservas</title>
</head>

<body>
    <div id="header-container">
        <div id="catalog-logo">
            <div id="catalog-logo">
                <a href="{% url 'verMesas' %}"><img src="{% static 'img/logos/restaurant-logo.png' %}"
                        class="restaurant-logo" alt="Logo"></a>
            </div>
        </div>
        <div id="catalog-title" class="text-center">
            <H1 class="title">LISTADO DE RESERVAS</H1>

        </div>

    </div>
    <br>

    <div class="results">

        <table id="result_list" class="table table-bordered">

            <thead class="table-dark">
                <tr class="text-center">
                    <th scope="col" class="add" colspan="2">
                        <a href="{% url 'agendar_reservas' %}" class="btn btn-outline-success"> <i
                                class="bi bi-calendar-plus"></i></a>
                    </th>
                    <th scope="col" class="reserva-id-column">
                        <div class="text"><span>ID de Reserva</span></div>
                        <div class="clear"></div>
                    </th>

                    <th scope="col" class="sortable column-nombre_cliente">
                        <div class="text"><a href="{% url 'verClientes'  %}">Cliente</a></div>
                        <div class="clear"></div>
                    </th>
                    <th scope="col" class="sortable column-fecha_reserva">
                        <div class="text">Fecha de reserva</div>
                        <div class="clear"></div>
                    </th>
                    <th scope="col" class="sortable column-hora_reserva">
                        <div class="text">Hora de reserva</div>
                        <div class="clear"></div>
                    </th>
                    <th scope="col" class="sortable column-estado">
                        <div class="text">Estado</div>
                        <div class="clear"></div>
                    </th>

                    <!-- table mesa -->
                    <th scope="col" class="sortable column-mesa_asignada">
                        <div class="text"><a href="{% url 'verMesas'  %}">Mesa asignada</a></div>
                        <div class="clear"></div>
                    </th>
                    <th scope="col" class="sortable column-cantidad_personas">
                        <div class="text">Cantidad de personas</div>
                        <div class="clear"></div>
                    </th>
                    <th scope="col" class="sortable column-observación">
                        <div class="text">Observación</div>
                        <div class="clear"></div>
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for reserva in reservas %}
                <tr>
                    <td>
                        <a href="{% url 'solicitareliminacion' reserva.id %}" class="btn btn-outline-danger">
                            <i class="bi bi-trash"></i>
                        </a>
                    </td>
                    <td>
                        <a href="{% url 'modificarReservas' reserva.id %}" class="btn btn-outline-warning">
                            <i class="bi bi-pencil-square"></i>
                        </a>
                    </td>
                    <td class="field-id_reserva nowrap">
                        {{ reserva.id}}
                    </td>
                    <td class="field-nombre_cliente nowrap">
                        <a href="{% url 'detalle_clientes' reserva.id %}">
                            <h5>{{ reserva.nombre_cliente }}</h5>
                            <p>Teléfono: +56 {{ reserva.nombre_cliente.telefono }}</p>
                        </a>
                    </td>
                    <td class="field-fecha_reserva nowrap">{{ reserva.fecha_reserva }}</td>
                    <td class="field-hora_reserva nowrap">{{ reserva.hora_reserva }}</td>
                    <td class="field-estado">{{ reserva.estado }}</td>
                    <td class="field-mesa_asignada nowrap">{{ reserva.mesa_asignada }}</td>
                    <td class="field-mesa_asignada nowrap">{{ reserva.cantidad_personas }}</td>
                    <td class="field-mesa_asignada nowrap">{{ reserva.observacion }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>

</html>